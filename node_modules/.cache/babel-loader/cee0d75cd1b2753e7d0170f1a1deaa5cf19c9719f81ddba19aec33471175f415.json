{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nconst fetchTweets = () => {\n  const API_KEY = 'm4sdHFsufWmJibYtW800bJhVq';\n  const API_SECRET_KEY = 'cM4McjWo9NjkxJ39H1R6lu9GDbvN5GOGOIrrVVjfnEtJ36QZSn';\n  const BEARER_TOKEN = `${API_KEY}:${API_SECRET_KEY}`;\n  const base64BearerToken = btoa(BEARER_TOKEN);\n\n  // Construct the headers for the request\n  const headers = new Headers();\n  headers.append('Authorization', `Basic ${base64BearerToken}`);\n  headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8');\n\n  // Make the request to get the bearer token\n  fetch('https://api.twitter.com/oauth2/token', {\n    method: 'POST',\n    headers: headers,\n    body: 'grant_type=client_credentials'\n  }).then(response => response.json()).then(data => {\n    const accessToken = data.access_token;\n\n    // Construct headers for tweet fetching\n    const tweetHeaders = new Headers();\n    tweetHeaders.append('Authorization', `Bearer ${accessToken}`);\n\n    // Make the request to get tweets\n    fetch('https://api.twitter.com/2/tweets', {\n      method: 'GET',\n      headers: tweetHeaders\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      return data;\n    }).catch(error => {\n      console.error('Error fetching tweets:', error);\n    });\n  }).catch(error => {\n    console.error('Error fetching bearer token:', error);\n  });\n  return [];\n};\nexport default fetchTweets;","map":{"version":3,"names":["React","useEffect","useState","fetchTweets","API_KEY","API_SECRET_KEY","BEARER_TOKEN","base64BearerToken","btoa","headers","Headers","append","fetch","method","body","then","response","json","data","accessToken","access_token","tweetHeaders","console","log","catch","error"],"sources":["C:/Users/Sanity/Documents/GitHub/animalbrowsing/src/content/twitterfetch.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst fetchTweets = () => {\r\n\r\n    const API_KEY = 'm4sdHFsufWmJibYtW800bJhVq';\r\n    const API_SECRET_KEY = 'cM4McjWo9NjkxJ39H1R6lu9GDbvN5GOGOIrrVVjfnEtJ36QZSn';\r\n    const BEARER_TOKEN = `${API_KEY}:${API_SECRET_KEY}`;\r\n    const base64BearerToken = btoa(BEARER_TOKEN);\r\n\r\n    // Construct the headers for the request\r\n    const headers = new Headers();\r\n    headers.append('Authorization', `Basic ${base64BearerToken}`);\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8');\r\n\r\n    // Make the request to get the bearer token\r\n    fetch('https://api.twitter.com/oauth2/token', {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: 'grant_type=client_credentials',\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        const accessToken = data.access_token;\r\n\r\n        // Construct headers for tweet fetching\r\n        const tweetHeaders = new Headers();\r\n        tweetHeaders.append('Authorization', `Bearer ${accessToken}`);\r\n\r\n        // Make the request to get tweets\r\n        fetch('https://api.twitter.com/2/tweets', {\r\n          method: 'GET',\r\n          headers: tweetHeaders,\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            console.log(data);\r\n            return data\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching tweets:', error);\r\n          });\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching bearer token:', error);\r\n      });\r\n\r\n      return []\r\n}\r\n\r\nexport default fetchTweets;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAEtB,MAAMC,OAAO,GAAG,2BAA2B;EAC3C,MAAMC,cAAc,GAAG,oDAAoD;EAC3E,MAAMC,YAAY,GAAI,GAAEF,OAAQ,IAAGC,cAAe,EAAC;EACnD,MAAME,iBAAiB,GAAGC,IAAI,CAACF,YAAY,CAAC;;EAE5C;EACA,MAAMG,OAAO,GAAG,IAAIC,OAAO,CAAC,CAAC;EAC7BD,OAAO,CAACE,MAAM,CAAC,eAAe,EAAG,SAAQJ,iBAAkB,EAAC,CAAC;EAC7DE,OAAO,CAACE,MAAM,CAAC,cAAc,EAAE,iDAAiD,CAAC;;EAEjF;EACAC,KAAK,CAAC,sCAAsC,EAAE;IAC5CC,MAAM,EAAE,MAAM;IACdJ,OAAO,EAAEA,OAAO;IAChBK,IAAI,EAAE;EACR,CAAC,CAAC,CACCC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;IACZ,MAAMC,WAAW,GAAGD,IAAI,CAACE,YAAY;;IAErC;IACA,MAAMC,YAAY,GAAG,IAAIX,OAAO,CAAC,CAAC;IAClCW,YAAY,CAACV,MAAM,CAAC,eAAe,EAAG,UAASQ,WAAY,EAAC,CAAC;;IAE7D;IACAP,KAAK,CAAC,kCAAkC,EAAE;MACxCC,MAAM,EAAE,KAAK;MACbJ,OAAO,EAAEY;IACX,CAAC,CAAC,CACCN,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACZI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MACjB,OAAOA,IAAI;IACb,CAAC,CAAC,CACDM,KAAK,CAACC,KAAK,IAAI;MACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;EACN,CAAC,CAAC,CACDD,KAAK,CAACC,KAAK,IAAI;IACdH,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;EACtD,CAAC,CAAC;EAEF,OAAO,EAAE;AACf,CAAC;AAED,eAAetB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}